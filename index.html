<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Bootstrap link -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <!-- Font awesome CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css"
      integrity="sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <style>
      /* .navbar-brand {
  color: green !important;
} */

* {
    margin: 0;
    padding: 0;
  }
  
  i {
    font-size: 35px;
    cursor: pointer;
    margin: 0 10px;
    color: black;
  }
  main {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }
  
  .shopping-card-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    background-color: #e7e7e7;
    border-radius: 10px;
    padding: 3%;
    margin: 50px 0;
  }
  .total-price span {
    font-size: 30px;
  }
  
  .total {
    font-weight: bold;
  }
  .list-products {
    display: flex;
    justify-content: center;
    margin-top: 30px;
    width: 70%;
  }
  .card {
    padding: 5%;
  }
  .card-body {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }
  
  .quantity {
    font-size: 25px;
  }
  
  .card-body div {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: 25px;
  }
  
  .fa-trash-alt {
    color: #de6b5c;
  }
    </style>
    <title>Workshop DOM</title>
  </head>
  <body>
    <header>
      <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">Shopping Card</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Link</a>
              </li>
              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  id="navbarDropdown"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  Dropdown
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <li><a class="dropdown-item" href="#">Action</a></li>
                  <li><a class="dropdown-item" href="#">Another action</a></li>
                  <li><hr class="dropdown-divider" /></li>
                  <li>
                    <a class="dropdown-item" href="#">Something else here</a>
                  </li>
                </ul>
              </li>
              <li class="nav-item">
                <a class="nav-link disabled">Disabled</a>
              </li>
            </ul>
            <form class="d-flex">
              <input
                class="form-control me-2"
                type="search"
                placeholder="Search"
                aria-label="Search"
              />
              <button class="btn btn-outline-success" type="submit">
                Search
              </button>
            </form>
          </div>
        </div>
      </nav>
    </header>
    <main>
      <section class="shopping-card-container">
        <div class="total-price">
          <span> Total price : </span>
          <span class="total"> 0 $ </span>
        </div>
        <div class="list-products">
          <!-- Product 1 : baskets -->
          <div class="card-body">
            <div class="card" style="width: 18rem">
              <img
                src="baskets.png"
                class="card-img-top"
                alt="baskets"
              />
              <div class="card-body">
                <h5 class="card-title">Baskets</h5>
                <p class="card-text">This is a basket</p>
                <h4 class="unit-price">100 $</h4>
                <div>
                  <i class="fas fa-plus-circle"></i>
                  <span class="quantity">0</span>
                  <i class="fas fa-minus-circle"></i>
                </div>
                <div>
                  <i class="fas fa-trash-alt"></i>
                  <i class="fas fa-heart" id="like" onclick="like()"></i>
                </div>
              </div>
            </div>
          </div>
          <!-- Product 2 : socks -->

          <div class="card-body">
            <div class="card" style="width: 18rem">
              <img src="socks.png" class="card-img-top" alt="socks" />
              <div class="card-body">
                <h5 class="card-title">Socks</h5>
                <p class="card-text">This is a socks</p>
                <h4 class="unit-price">20 $</h4>
                <div>
                  <i class="fas fa-plus-circle"></i>
                  <span class="quantity">0</span>
                  <i class="fas fa-minus-circle"></i>
                </div>
                <div>
                  <i class="fas fa-trash-alt"></i>
                  <i class="fas fa-heart"></i>
                </div>
              </div>
            </div>
          </div>
          <!-- Product 3 : bag -->
          <div class="card-body">
            <div class="card" style="width: 18rem">
              <img src="bag.png" class="card-img-top" alt="bag" />
              <div class="card-body">
                <h5 class="card-title">Bag</h5>
                <p class="card-text">This is a Bag</p>
                <h4 class="unit-price">50 $</h4>
                <div>
                  <i class="fas fa-plus-circle"></i>
                  <span class="quantity">0</span>
                  <i class="fas fa-minus-circle"></i>
                </div>
                <div>
                  <i class="fas fa-trash-alt"></i>
                  <i class="fas fa-heart"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
    <footer></footer>

    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>

    <!-- My JS -->
    <script >
      // Class to represent a ProductCard
class ProductCard {
  constructor(cardElement, totalPriceElement) {
    this.cardElement = cardElement;
    this.totalPriceElement = totalPriceElement;

    // Select specific elements within the card
    this.plusBtn = this.cardElement.querySelector('.fa-plus-circle');
    this.minusBtn = this.cardElement.querySelector('.fa-minus-circle');
    this.quantityElement = this.cardElement.querySelector('.quantity');
    this.deleteBtn = this.cardElement.querySelector('.fa-trash-alt');
    this.likeBtn = this.cardElement.querySelector('.fa-heart');
    this.image = this.cardElement.querySelector('.card-img-top');
    this.cardTitle = this.cardElement.querySelector('.card-title');
    this.cardText = this.cardElement.querySelector('.card-text');
    this.unitPrice = parseFloat(
      this.cardElement.querySelector('.unit-price').textContent.replace('$', '')
    );

    // Store the original image source for toggling
    this.image.dataset.originalSrc = this.image.src;

    // Attach event listeners
    this.attachEventListeners();
  }

  attachEventListeners() {
    // Increment quantity
    this.plusBtn.addEventListener('click', () => {
      this.updateQuantity(1);
    });

    // Decrement quantity
    this.minusBtn.addEventListener('click', () => {
      this.updateQuantity(-1);
    });

    // Delete functionality
    this.deleteBtn.addEventListener('click', () => {
      this.toggleDeleted();
    });

    // Like functionality
    this.likeBtn.addEventListener('click', () => {
      this.toggleLike();
    });
  }

  updateQuantity(amount) {
    const currentQuantity = parseInt(this.quantityElement.textContent);
    const newQuantity = currentQuantity + amount;
    if (newQuantity >= 0) {
      this.quantityElement.textContent = newQuantity;
      this.updateTotalPrice();
    }
  }

  toggleDeleted() {
    if (!this.cardElement.classList.contains('deleted')) {
      // Mark as deleted
      this.image.src = 'deleted.png';
      this.cardTitle.style.textDecoration = 'line-through';
      this.cardText.style.textDecoration = 'line-through';
      this.cardElement.classList.add('deleted');
    } else {
      // Restore original state
      this.image.src = this.image.dataset.originalSrc;
      this.cardTitle.style.textDecoration = 'none';
      this.cardText.style.textDecoration = 'none';
      this.cardElement.classList.remove('deleted');
    }
  }

  toggleLike() {
    this.likeBtn.classList.toggle('liked');
    this.likeBtn.style.color = this.likeBtn.classList.contains('liked')
      ? 'red'
      : 'black';
  }

  updateTotalPrice() {
    let total = 0;
    document.querySelectorAll('.card').forEach((card) => {
      const unitPrice = parseFloat(
        card.querySelector('.unit-price').textContent.replace('$', '')
      );
      const quantity = parseInt(card.querySelector('.quantity').textContent);
      total += unitPrice * quantity;
    });
    this.totalPriceElement.textContent = `${total} $`;
  }
}

// Initialize the total price element
const totalPriceElement = document.querySelector('.total');

// Initialize all product cards
const productCards = document.querySelectorAll('.card');
productCards.forEach((card) => {
  new ProductCard(card, totalPriceElement);
});


    </script>
  </body>
</html>